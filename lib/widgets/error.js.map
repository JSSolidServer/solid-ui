{"version":3,"file":"error.js","names":["errorMessageBlock","dom","err","backgroundColor","err2","div","createElement","errorObject","Error","console","error","stack","textContent","message","appendChild","cancelButton","parentNode","removeChild","style","setAttribute"],"sources":["../../src/widgets/error.ts"],"sourcesContent":["/**\n * Create an error message block\n * @param dom The DOM on which dom.createElement will be called\n * @param err The error message string to display (or an error object)\n * @param backgroundColor Background color. Default: '#fee'\n * @param err2 Is the second param is a string, you can put the original Error in here\n * @returns A div element with the err string\n *\n * This will return a DOM element you can put in the UI as a notice for the user\n *  Meanwhile the stack is dumped to the console for the developer, so you actually know\n *  where it happened!\n */\n/* eslint-disable no-console */\nimport { cancelButton } from '../widgets'\n\nexport function errorMessageBlock (dom: HTMLDocument, err: string | Error, backgroundColor?: string, err2?: Error): HTMLDivElement {\n  const div = dom.createElement('div')\n\n  /* tslint:disable-next-line */ // Too complex for TS?\n  // @ts-ignore\n  const errorObject:Error = err2 || err instanceof Error ? err : null\n\n  if (errorObject) {\n    console.error(`errorMessageBlock: ${errorObject} at: ${errorObject.stack || '??'}`, errorObject) // @@ pick one\n    div.textContent = errorObject.message\n  } else {\n    div.textContent = err as string\n  }\n\n  div.appendChild(cancelButton(dom, () => { if (div.parentNode) div.parentNode.removeChild(div) }))\n    .style = 'width: 2em; height: 2em; align: right;'\n\n  div.setAttribute(\n    'style',\n    'margin: 0.1em; padding: 0.5em; border: 0.05em solid gray; background-color: ' +\n      (backgroundColor || '#fee') +\n      '; color:black;'\n  )\n  return div\n}\n"],"mappings":";;;;;;;AAaA;;AAbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AAGO,SAASA,iBAAT,CAA4BC,GAA5B,EAA+CC,GAA/C,EAAoEC,eAApE,EAA8FC,IAA9F,EAA4H;EACjI,IAAMC,GAAG,GAAGJ,GAAG,CAACK,aAAJ,CAAkB,KAAlB,CAAZ;EAEA;EAA+B;EAC/B;;EACA,IAAMC,WAAiB,GAAGH,IAAI,IAAIF,GAAG,YAAYM,KAAvB,GAA+BN,GAA/B,GAAqC,IAA/D;;EAEA,IAAIK,WAAJ,EAAiB;IACfE,OAAO,CAACC,KAAR,8BAAoCH,WAApC,kBAAuDA,WAAW,CAACI,KAAZ,IAAqB,IAA5E,GAAoFJ,WAApF,EADe,CACkF;;IACjGF,GAAG,CAACO,WAAJ,GAAkBL,WAAW,CAACM,OAA9B;EACD,CAHD,MAGO;IACLR,GAAG,CAACO,WAAJ,GAAkBV,GAAlB;EACD;;EAEDG,GAAG,CAACS,WAAJ,CAAgB,IAAAC,qBAAA,EAAad,GAAb,EAAkB,YAAM;IAAE,IAAII,GAAG,CAACW,UAAR,EAAoBX,GAAG,CAACW,UAAJ,CAAeC,WAAf,CAA2BZ,GAA3B;EAAiC,CAA/E,CAAhB,EACGa,KADH,GACW,wCADX;EAGAb,GAAG,CAACc,YAAJ,CACE,OADF,EAEE,kFACGhB,eAAe,IAAI,MADtB,IAEE,gBAJJ;EAMA,OAAOE,GAAP;AACD"}
{"version":3,"file":"comment.js","names":["_solidLogic","require","ns","_interopRequireWildcard","_fieldFunction","_fieldParams","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","store","solidLogicSingleton","commentField","dom","container","already","subject","form","_doc","_callbackFunction","kb","contents","any","ui","uri","mostSpecificClassURI","params","fieldParams","undefined","box","createElement","appendChild","p","element","textContent","style","setAttribute"],"sources":["../../../src/widgets/forms/comment.ts"],"sourcesContent":["import { solidLogicSingleton } from 'solid-logic'\nimport * as ns from '../../ns'\nimport { mostSpecificClassURI } from './fieldFunction'\nimport { fieldParams } from './fieldParams'\n\nconst store = solidLogicSingleton.store\n\n/**\n * A [[FieldFunction]] for a simple comment box. It will look for\n * the first (form, ns.ui('contents'), ?) triple it can find in\n * store and use the value of the object of that triple as\n * the comment text.\n *\n * @param dom The DOM\n * @param container If set, the result will be appended to it as a child\n * @param already Unused\n * @param subject Unused\n * @param form RDF node with `ns.ui('contents')` attribute\n * @param _doc Unused\n * @param _callbackFunction Unused\n *\n * @returns a DOM element containing the comment.\n */\nexport function commentField (\n  dom: HTMLDocument,\n  container: HTMLElement | undefined,\n  already: any,\n  subject: any,\n  form,\n  _doc,\n  _callbackFunction\n) {\n  const kb = store\n  let contents: any = kb.any(form, ns.ui('contents'))\n  if (!contents) {\n    contents = 'Error: No contents in comment field.'\n  }\n  const uri = mostSpecificClassURI(form)\n  let params = fieldParams[uri]\n  if (params === undefined) {\n    params = {}\n  } // non-bottom field types can do this\n\n  const box = dom.createElement('div')\n  if (container) container.appendChild(box)\n  const p = box.appendChild(dom.createElement(params.element || 'p'))\n  p.textContent = contents\n\n  let style: any = kb.any(form, ns.ui('style'))\n  if (style === undefined) {\n    style = params.style ? params.style : ''\n  }\n  if (style) p.setAttribute('style', style as any)\n\n  return box\n}\n"],"mappings":"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"}
{"version":3,"file":"comment.js","names":["store","solidLogicSingleton","commentField","dom","container","already","subject","form","_doc","_callbackFunction","kb","contents","any","ns","ui","uri","mostSpecificClassURI","params","fieldParams","undefined","box","createElement","appendChild","p","element","textContent","style","setAttribute"],"sources":["../../../src/widgets/forms/comment.ts"],"sourcesContent":["import { solidLogicSingleton } from 'solid-logic'\nimport * as ns from '../../ns'\nimport { mostSpecificClassURI } from './fieldFunction'\nimport { fieldParams } from './fieldParams'\n\nconst store = solidLogicSingleton.store\n\n/**\n * A [[FieldFunction]] for a simple comment box. It will look for\n * the first (form, ns.ui('contents'), ?) triple it can find in\n * store and use the value of the object of that triple as\n * the comment text.\n *\n * @param dom The DOM\n * @param container If set, the result will be appended to it as a child\n * @param already Unused\n * @param subject Unused\n * @param form RDF node with `ns.ui('contents')` attribute\n * @param _doc Unused\n * @param _callbackFunction Unused\n *\n * @returns a DOM element containing the comment.\n */\nexport function commentField (\n  dom: HTMLDocument,\n  container: HTMLElement | undefined,\n  already: any,\n  subject: any,\n  form,\n  _doc,\n  _callbackFunction\n) {\n  const kb = store\n  let contents: any = kb.any(form, ns.ui('contents'))\n  if (!contents) {\n    contents = 'Error: No contents in comment field.'\n  }\n  const uri = mostSpecificClassURI(form)\n  let params = fieldParams[uri]\n  if (params === undefined) {\n    params = {}\n  } // non-bottom field types can do this\n\n  const box = dom.createElement('div')\n  if (container) container.appendChild(box)\n  const p = box.appendChild(dom.createElement(params.element || 'p'))\n  p.textContent = contents\n\n  let style: any = kb.any(form, ns.ui('style'))\n  if (style === undefined) {\n    style = params.style ? params.style : ''\n  }\n  if (style) p.setAttribute('style', style as any)\n\n  return box\n}\n"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AAA2C;AAAA;AAE3C,IAAMA,KAAK,GAAGC,+BAAmB,CAACD,KAAK;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASE,YAAY,CAC1BC,GAAiB,EACjBC,SAAkC,EAClCC,OAAY,EACZC,OAAY,EACZC,IAAI,EACJC,IAAI,EACJC,iBAAiB,EACjB;EACA,IAAMC,EAAE,GAAGV,KAAK;EAChB,IAAIW,QAAa,GAAGD,EAAE,CAACE,GAAG,CAACL,IAAI,EAAEM,EAAE,CAACC,EAAE,CAAC,UAAU,CAAC,CAAC;EACnD,IAAI,CAACH,QAAQ,EAAE;IACbA,QAAQ,GAAG,sCAAsC;EACnD;EACA,IAAMI,GAAG,GAAG,IAAAC,mCAAoB,EAACT,IAAI,CAAC;EACtC,IAAIU,MAAM,GAAGC,wBAAW,CAACH,GAAG,CAAC;EAC7B,IAAIE,MAAM,KAAKE,SAAS,EAAE;IACxBF,MAAM,GAAG,CAAC,CAAC;EACb,CAAC,CAAC;;EAEF,IAAMG,GAAG,GAAGjB,GAAG,CAACkB,aAAa,CAAC,KAAK,CAAC;EACpC,IAAIjB,SAAS,EAAEA,SAAS,CAACkB,WAAW,CAACF,GAAG,CAAC;EACzC,IAAMG,CAAC,GAAGH,GAAG,CAACE,WAAW,CAACnB,GAAG,CAACkB,aAAa,CAACJ,MAAM,CAACO,OAAO,IAAI,GAAG,CAAC,CAAC;EACnED,CAAC,CAACE,WAAW,GAAGd,QAAQ;EAExB,IAAIe,KAAU,GAAGhB,EAAE,CAACE,GAAG,CAACL,IAAI,EAAEM,EAAE,CAACC,EAAE,CAAC,OAAO,CAAC,CAAC;EAC7C,IAAIY,KAAK,KAAKP,SAAS,EAAE;IACvBO,KAAK,GAAGT,MAAM,CAACS,KAAK,GAAGT,MAAM,CAACS,KAAK,GAAG,EAAE;EAC1C;EACA,IAAIA,KAAK,EAAEH,CAAC,CAACI,YAAY,CAAC,OAAO,EAAED,KAAK,CAAQ;EAEhD,OAAON,GAAG;AACZ"}
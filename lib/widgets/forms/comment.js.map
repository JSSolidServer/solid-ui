{"version":3,"file":"comment.js","names":["store","solidLogicSingleton","commentField","dom","container","already","subject","form","_doc","_callbackFunction","kb","contents","any","ns","ui","uri","mostSpecificClassURI","params","fieldParams","undefined","box","createElement","appendChild","p","element","textContent","style","setAttribute"],"sources":["../../../src/widgets/forms/comment.ts"],"sourcesContent":["import { solidLogicSingleton } from 'solid-logic'\nimport * as ns from '../../ns'\nimport { mostSpecificClassURI } from './fieldFunction'\nimport { fieldParams } from './fieldParams'\n\nconst store = solidLogicSingleton.store\n\n/**\n * A [[FieldFunction]] for a simple comment box. It will look for\n * the first (form, ns.ui('contents'), ?) triple it can find in\n * store and use the value of the object of that triple as\n * the comment text.\n *\n * @param dom The DOM\n * @param container If set, the result will be appended to it as a child\n * @param already Unused\n * @param subject Unused\n * @param form RDF node with `ns.ui('contents')` attribute\n * @param _doc Unused\n * @param _callbackFunction Unused\n *\n * @returns a DOM element containing the comment.\n */\nexport function commentField (\n  dom: HTMLDocument,\n  container: HTMLElement | undefined,\n  already: any,\n  subject: any,\n  form,\n  _doc,\n  _callbackFunction\n) {\n  const kb = store\n  let contents: any = kb.any(form, ns.ui('contents'))\n  if (!contents) {\n    contents = 'Error: No contents in comment field.'\n  }\n  const uri = mostSpecificClassURI(form)\n  let params = fieldParams[uri]\n  if (params === undefined) {\n    params = {}\n  } // non-bottom field types can do this\n\n  const box = dom.createElement('div')\n  if (container) container.appendChild(box)\n  const p = box.appendChild(dom.createElement(params.element || 'p'))\n  p.textContent = contents\n\n  let style: any = kb.any(form, ns.ui('style'))\n  if (style === undefined) {\n    style = params.style ? params.style : ''\n  }\n  if (style) p.setAttribute('style', style as any)\n\n  return box\n}\n"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAMA,KAAK,GAAGC,+BAAA,CAAoBD,KAAlC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACO,SAASE,YAAT,CACLC,GADK,EAELC,SAFK,EAGLC,OAHK,EAILC,OAJK,EAKLC,IALK,EAMLC,IANK,EAOLC,iBAPK,EAQL;EACA,IAAMC,EAAE,GAAGV,KAAX;EACA,IAAIW,QAAa,GAAGD,EAAE,CAACE,GAAH,CAAOL,IAAP,EAAaM,EAAE,CAACC,EAAH,CAAM,UAAN,CAAb,CAApB;;EACA,IAAI,CAACH,QAAL,EAAe;IACbA,QAAQ,GAAG,sCAAX;EACD;;EACD,IAAMI,GAAG,GAAG,IAAAC,mCAAA,EAAqBT,IAArB,CAAZ;EACA,IAAIU,MAAM,GAAGC,wBAAA,CAAYH,GAAZ,CAAb;;EACA,IAAIE,MAAM,KAAKE,SAAf,EAA0B;IACxBF,MAAM,GAAG,EAAT;EACD,CAVD,CAUE;;;EAEF,IAAMG,GAAG,GAAGjB,GAAG,CAACkB,aAAJ,CAAkB,KAAlB,CAAZ;EACA,IAAIjB,SAAJ,EAAeA,SAAS,CAACkB,WAAV,CAAsBF,GAAtB;EACf,IAAMG,CAAC,GAAGH,GAAG,CAACE,WAAJ,CAAgBnB,GAAG,CAACkB,aAAJ,CAAkBJ,MAAM,CAACO,OAAP,IAAkB,GAApC,CAAhB,CAAV;EACAD,CAAC,CAACE,WAAF,GAAgBd,QAAhB;EAEA,IAAIe,KAAU,GAAGhB,EAAE,CAACE,GAAH,CAAOL,IAAP,EAAaM,EAAE,CAACC,EAAH,CAAM,OAAN,CAAb,CAAjB;;EACA,IAAIY,KAAK,KAAKP,SAAd,EAAyB;IACvBO,KAAK,GAAGT,MAAM,CAACS,KAAP,GAAeT,MAAM,CAACS,KAAtB,GAA8B,EAAtC;EACD;;EACD,IAAIA,KAAJ,EAAWH,CAAC,CAACI,YAAF,CAAe,OAAf,EAAwBD,KAAxB;EAEX,OAAON,GAAP;AACD"}
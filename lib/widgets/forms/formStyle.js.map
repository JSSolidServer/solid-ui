{"version":3,"file":"formStyle.js","names":["ns","_interopRequireWildcard","require","_solidLogic","_fieldParams","_fieldFunction","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","STYLE_URI_PREFIX","setFieldStyle","ele","field","classUri","mostSpecificClassURI","params","fieldParams","style","store","any","ui","setAttribute","termType","value","sts","statementsMatching","doc","forEach","st","predicate","uri","startsWith","cssAttribute","slice","length","object","err","console","warn","concat","tagName"],"sources":["../../../src/widgets/forms/formStyle.ts"],"sourcesContent":["import * as ns from '../../ns'\nimport { Node } from 'rdflib'\nimport { store } from 'solid-logic'\nimport { fieldParams } from './fieldParams'\n\nimport { mostSpecificClassURI } from './fieldFunction'\n\nconst STYLE_URI_PREFIX = 'https://www.w3.org/ns/css#'\n\n/* eslint-disable no-console */\n\nexport function setFieldStyle (ele:HTMLElement, field:Node) {\n  const classUri = mostSpecificClassURI(field)\n  const params = fieldParams[classUri] || {}\n\n  const style = store.any(field as any, ns.ui('style'))\n  if (!style) {\n    if (params.style) {\n      ele.setAttribute('style', params.style)\n    }\n    return\n  }\n  if (style.termType === 'Literal') {\n    if (style) ele.setAttribute('style', style.value)\n  } else {\n    const sts = store.statementsMatching(style as any, null, null, (field as any).doc())\n    sts.forEach(st => {\n      if (st.predicate.uri && st.predicate.uri.startsWith(STYLE_URI_PREFIX)) {\n        const cssAttribute = st.predicate.uri.slice(STYLE_URI_PREFIX.length)\n        try {\n          ele.style[cssAttribute] = st.object.value\n        } catch (err) {\n          console.warn(`setFieldStyle: Error setting element style ${cssAttribute} to \"${st.object.value}\"`)\n          console.warn(`setFieldStyle:   ... Element tagName was \"${ele.tagName || '???'}\"`)\n        }\n      }\n    })\n  }\n}\n"],"mappings":"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"}
{"version":3,"sources":["../src/logic.ts"],"names":["thisFetch","url","requestInit","omitCreds","credentials","authSession","info","webId","fetch","window","solidLogicSingleton","SolidLogic","store","kb","authn","chat","profile","debug","log"],"mappings":";;;;;;;;;;;;;;;AAGA;;AACA;;AACA;;;;;;AALA;AACA;SAMeA,S;;;;;6FAAf,iBAA0BC,GAA1B,EAA+BC,WAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,YAAAA,SADR,GACoBD,WAAW,IAAIA,WAAW,CAACE,WAA3B,IAA0CF,WAAW,CAACE,WAAZ,KAA4B,MAD1F;;AAAA,kBAEMC,wBAAYC,IAAZ,CAAiBC,KAAjB,IAA0B,CAACJ,SAFjC;AAAA;AAAA;AAAA;;AAAA,6CAIWE,wBAAYG,KAAZ,CAAkBP,GAAlB,EAAuBC,WAAvB,CAJX;;AAAA;AAAA,6CAMWO,MAAM,CAACD,KAAP,CAAaP,GAAb,EAAkBC,WAAlB,CANX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAUO,IAAMQ,mBAAmB,GAAG,IAAIC,sBAAJ,CAAe;AAAEH,EAAAA,KAAK,EAAER;AAAT,CAAf,EAAqCK,uBAArC,CAA5B,C,CAEP;;;AACO,IAAMO,KAAK,GAAGF,mBAAmB,CAACE,KAAlC;;AACA,IAAMC,EAAE,GAAGD,KAAX,C,CAAiB;;;AAEjB,IAAME,KAAK,GAAGJ,mBAAmB,CAACI,KAAlC;;AACA,IAAMC,IAAI,GAAGL,mBAAmB,CAACK,IAAjC,C,CAEP;;;AAEO,IAAMC,OAAO,GAAGN,mBAAmB,CAACM,OAApC;;AAEPC,KAAK,CAACC,GAAN,CAAU,+BAAV,E,CAEA","sourcesContent":["// This module of solid-ui has a main quadstore for the app to use\n//\n\nimport * as debug from './debug'\nimport authSession from './authn/authSession'\nimport { SolidLogic } from 'solid-logic'\n\nasync function thisFetch (url, requestInit) {\n  const omitCreds = requestInit && requestInit.credentials && requestInit.credentials === 'omit'\n  if (authSession.info.webId && !omitCreds) { // see https://github.com/solid/solidos/issues/114\n    // In fact ftech should respect crentials omit itself\n    return authSession.fetch(url, requestInit)\n  } else {\n    return window.fetch(url, requestInit)\n  }\n}\n\nexport const solidLogicSingleton = new SolidLogic({ fetch: thisFetch }, authSession)\n\n// Make this directly accessible as it is what you need most of the time\nexport const store = solidLogicSingleton.store\nexport const kb = store // Very commonly used synonym of store - Knowledge Base\n\nexport const authn = solidLogicSingleton.authn\nexport const chat = solidLogicSingleton.chat\n\n// export const language = solidLogicSingleton.language // Does not work\n\nexport const profile = solidLogicSingleton.profile\n\ndebug.log('Unique quadstore initialized.')\n\n// ends\n"],"file":"logic.js"}
{"version":3,"file":"index.js","names":["stylesheetsMap","Map","getClasses","insertionPoint","styles","stylesheet","getStylesheet","createStyleSheet","attach","cachedStylesheet","get","create","plugins","preset","set"],"sources":["../../src/jss/index.ts"],"sourcesContent":["/**\n * Contains [[getClasses]] and [[getStylesheet]] functions,\n * usable as wrappers around JSS (A CSS authoring tool).\n * See https://cssinjs.org/\n * @packageDocumentation\n */\n\nimport { create, Jss, Styles, StyleSheet } from 'jss'\nimport preset from 'jss-preset-default'\n\nconst stylesheetsMap = new Map<HTMLElement, Jss>()\n\n/**\n * returns a StyleSheet object.\n * See https://cssinjs.org/ for more info about JSS.\n * (despite the name, see https://github.com/solidos/solid-ui/issues/199)\n */\nexport function getClasses (insertionPoint: HTMLElement, styles: Partial<Styles>): StyleSheet {\n  const stylesheet = getStylesheet(insertionPoint)\n  return stylesheet.createStyleSheet(styles).attach()\n}\n\n/**\n * returns a JSS object.\n * See https://cssinjs.org/ for more info about JSS.\n * (despite the name, see https://github.com/solidos/solid-ui/issues/199)\n */\nexport function getStylesheet (insertionPoint: HTMLElement): Jss {\n  const cachedStylesheet = stylesheetsMap.get(insertionPoint)\n  if (cachedStylesheet) {\n    return cachedStylesheet\n  }\n  const stylesheet = create({\n    insertionPoint,\n    plugins: preset().plugins\n  })\n  stylesheetsMap.set(insertionPoint, stylesheet)\n  return stylesheet\n}\n"],"mappings":";;;;;;;;;;AAOA;;AACA;;AARA;AACA;AACA;AACA;AACA;AACA;AAKA,IAAMA,cAAc,GAAG,IAAIC,GAAJ,EAAvB;AAEA;AACA;AACA;AACA;AACA;;AACO,SAASC,UAAT,CAAqBC,cAArB,EAAkDC,MAAlD,EAAuF;EAC5F,IAAMC,UAAU,GAAGC,aAAa,CAACH,cAAD,CAAhC;EACA,OAAOE,UAAU,CAACE,gBAAX,CAA4BH,MAA5B,EAAoCI,MAApC,EAAP;AACD;AAED;AACA;AACA;AACA;AACA;;;AACO,SAASF,aAAT,CAAwBH,cAAxB,EAA0D;EAC/D,IAAMM,gBAAgB,GAAGT,cAAc,CAACU,GAAf,CAAmBP,cAAnB,CAAzB;;EACA,IAAIM,gBAAJ,EAAsB;IACpB,OAAOA,gBAAP;EACD;;EACD,IAAMJ,UAAU,GAAG,IAAAM,WAAA,EAAO;IACxBR,cAAc,EAAdA,cADwB;IAExBS,OAAO,EAAE,IAAAC,4BAAA,IAASD;EAFM,CAAP,CAAnB;EAIAZ,cAAc,CAACc,GAAf,CAAmBX,cAAnB,EAAmCE,UAAnC;EACA,OAAOA,UAAP;AACD"}